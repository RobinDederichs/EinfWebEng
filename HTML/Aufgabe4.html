<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aufgabe 4 - JavaScript</title>

  <link rel="stylesheet" href="../CSS/A4.css" title="CSS_for_nr_4">
</head>
<body>
<ul class="navZeUl">
  <li class="navZeLi"><a href="../index.html">Home</a></li>
  <li class="navZeLi"><a title="Klicken um zur ersten Aufgabe zu kommen" href="Aufgabe1.html">Aufgabe 1</a></li>
  <li class="navZeLi"><a title="Klicken um zur zweiten Aufgabe zu kommen" href="Aufgabe2.html">Aufgabe 2</a></li>
  <li class="navZeLi"><a title="Klicken um zur dritten Aufgabe zu kommen" href="Aufgabe3.html">Aufgabe 3</a></li>
  <li class="navZeLi"><a title="Klicken um zur vierten Aufgabe zu kommen" href="Aufgabe4.html">Aufgabe 4</a></li>
</ul>

<div id="headPic">
  <h2><span id="head-title">Übung 4:</span></h2>
  <br>
</div>

<h3>Aufgabe 4.1 Funktionen - Schreiben Sie folgende Funktionen in JavaScript:</h3>
<p><b>1. Schreiben Sie eine Funktion <code>identity()</code>, die ein Argument als Parameter entgegen nimmt und dieses als Ergebnis zurück gibt.</b></p>
<br>
<form>
  <label class="number" for="number4.1.1">identity()</label>
  <input type="text" id="number4.1.1" name="number4.1.2" placeholder="Enter a Number">
  <button type="button" onclick="document.getElementById('result4.1.1').innerHTML = identity(document.getElementById('number4.1.1').value)">Submit</button>
</form>
<p id="result4.1.1"></p>
<br>

<p><b>2. Schreiben Sie eine Funktion <code>identity_function()</code>, die ein Argument als Parameter entgegen nimmt und eine Funktion zurück gibt, die dieses Argument zurück gibt.</b></p>
<br>
<form>
  <label class="number" for="number4.1.2">identity_function()</label>
  <input type="text" id="number4.1.2" name="number4.1.2" placeholder="Enter a Number">
  <button type="button" onclick="document.getElementById('result4.1.2').innerHTML = identity_function(document.getElementById('number4.1.2').value)">Submit</button>
</form>
<p id="result4.1.2"></p>
<br>

<p><b>3. Schreiben Sie zwei binäre Funktionen <code>add</code> und <code>mul</code>, die Summe und Produkt berechnen.</b></p>
<br>
<form>
  <label class="number" for="number4.1.3.1.1">add()</label>
  <input type="text" id="number4.1.3.1.1" name="number4.1.3.1.1" placeholder="Enter first Number">
  <label class="number" for="number4.1.3.1.2" style="padding-left: 5px; padding-right: 5px;">+</label>
  <input type="text" id="number4.1.3.1.2" name="number4.1.3.1.2" placeholder="Enter second Number">
  <button type="button" onclick="document.getElementById('result4.1.3.1').innerHTML = add(document.getElementById('number4.1.3.1.1').value,
  document.getElementById('number4.1.3.1.2').value)">Submit</button>
</form>
<p id="result4.1.3.1"></p>
<br>

<form>
  <label class="number" for="number4.1.3.2.1">mul()</label>
  <input type="text" id="number4.1.3.2.1" name="number4.1.3.2.1" placeholder="Enter first Number">
  <label class="number" for="number4.1.3.2.2" style="padding-left: 5px; padding-right: 5px;">*</label>
  <input type="text" id="number4.1.3.2.2" name="number4.1.3.2.2" placeholder="Enter second Number">
  <button type="button" onclick="document.getElementById('result4.1.3.2').innerHTML = mul(document.getElementById('number4.1.3.2.1').value,
  document.getElementById('number4.1.3.2.2').value)">Submit</button>
</form>
<p id="result4.1.3.2"></p>
<br>

<p><b>4. Schreiben Sie eine Addier-Funktion <code>addf()</code>, so dass <code>addf(x)(y)</code> genau x + y zurückgibt.
  (Es haben also zwei Funktionsaufrufe zu erfolgen. <code>addf(x)</code> liefert eine Funktion, die auf y angewandt wird.)</b></p>
<br>
<form>
  <label class="number" for="number4.1.4.1">fadd()</label>
  <input type="text" id="number4.1.4.1" name="number4.1.4.1" placeholder="Enter first Number">
  <input type="text" id="number4.1.4.2" name="number4.1.4.2" placeholder="Enter second Number">
  <button type="button" onclick="document.getElementById('result4.1.4').innerHTML = fadd(document.getElementById('number4.1.4.1').value)(document.getElementById('number4.1.4.2').value)"
  >Submit</button>
</form>
<p id="result4.1.4"></p>
<br>

<p><b>5. Schreiben Sie eine Funktion <code>applyf()</code>, die aus einer binären Funktion wie <code>add(x,y)</code> eine Funktion <code>addf</code> berechnet,
  die mit zwei Aufrufen das gleiche Ergebnis liefert, z.B. <code>addf = applyf(add); addf(x)(y)</code> soll <code>add(x,y)</code> liefern.
  Entsprechend <code>applyf(mul)(5)(6)</code> soll <code>30</code> liefern, wenn <code>mul</code> die binäre Multiplikation ist.</b></p>
<br>
<form>
  <label class="number" for="text_function">applyf()</label>
  <input type="text" id="text_function" name="function" placeholder="Choose function: add/mul">
  <input type="text" id="number4.1.5.2" name="number4.1.5.2" placeholder="Enter first Number">
  <input type="text" id="number4.1.5.3" name="number4.1.5.3" placeholder="Enter second Number">
  <button type="button" onclick="document.getElementById('result4.1.5').innerHTML = applyf(document.getElementById('text_function').value)
  (document.getElementById('number4.1.5.2').value,
  document.getElementById('number4.1.5.3').value)">Submit</button>
</form>
<p id="result4.1.5"></p>
<br>

<h3>Aufgabe 4.3 Fibonacci</h3>
<p>Schreiben Sie im Browser die Fibonacci-Funktion in JS und geben Sie die ersten 2000 Fibonacci-Zahlen 0,1,1,2,3,5,8,13,... auf der Konsole mit <code>console.log()</code> aus.<br>
  Achten Sie auf Performanz: Berechnen Sie jeden Fibonacci-Wert nur einmal. Speichern Sie zu diesem Zweck jede berechnete Fibonacci-Zahl in einer Tabelle.</p>
<br>

<form>
  <button type="button" onclick="fibo(); document.getElementById('result4.3.1').innerHTML = AusgabeMaxInt;
document.getElementById('result4.3.2').innerHTML = AusgabeMaxNum;">
    Ausgabe der Fibonacci Folge bis zu Stelle 2000</button>
</form>
<br>

<p>1. Was ist die größte Fibonacci-Zahl, die sich noch als <code>Integer</code> sicher speichern lässt (Number.MAX_SAFE_INTEGER)?
  Die wievielte Fibonacci-Zahl in der Fibonacci-Folge ist das?</p>
<p id="result4.3.1"></p>
<br>

<p>2. Was ist die größte Fibonacci-Zahl, die sich noch als <code>Number</code> speichern lässt (Number.MAX_VALUE)?
  Die wievielte Fibonacci-Zahl in der Fibonacci-Folge ist das (d.h. welche Stelle in der Fibonacci-Folge)?</p>
<p id="result4.3.2"></p>
<br>

<p>3. Wechseln Sie zu <code>BigInt</code>, um alle 2000 Fibonacci-Zahlen korrekt anzuzeigen.</p>
<br>

<form>
  <button type="button" onclick="fiboBigInt()">
    Ausgabe der Fibonacci Folge bis zu Stelle 2000 mit BigInt</button>
</form>
<br>

<script>
  function identity(number) {
    return number;
  }

  var x;
  function identity_function(number) {
    x = number;
    return return_number;
  }
  function return_number() {
    return x;
  }

  function add(number1, number2) {
    return Number(number1) + Number(number2);
  }
  function mul(number1, number2) {
    return Number(number1) * Number(number2);
  }

  var y;
  function fadd(number) {
    if (y === undefined) {
      y = Number(number);
      return fadd;
    } else {
      var result = add(y, number);
      y = undefined;
      return result;
    }
  }

  function applyf(text) {
    if (text === "add") {
      return add;
    }
    if (text === "mul") {
      return mul;
    }
  }

  var WertMaxInt;
  var stelleMaxInt;
  var AusgabeMaxInt;
  var WertMaxNum;
  var stelleMaxNum;
  var AusgabeMaxNum;
  function fibo() {
    var Folge = [];
    Folge[0] = 0;
    Folge[1] = 1;
    console.log(Folge[0]);
    console.log(Folge[1]);
    IntFlag = false;
    NumFlag = false;

    for (var i = 2; i < 2000; i++) {
      Folge[i] = Folge[i - 1] + Folge[i - 2];
      if (Folge[i] > Number.MAX_SAFE_INTEGER && !IntFlag) {
        WertMaxInt = Folge[i - 1];
        stelleMaxInt = i - 1;
        IntFlag = true;
      }
      if (Folge[i] > Number.MAX_VALUE && !NumFlag) {
        WertMaxNum = Folge[i - 1];
        stelleMaxNum = i - 1;
        NumFlag = true;
      }
      console.log(Folge[i]);
    }
    AusgabeMaxInt = "Wert: " + WertMaxInt + " Stelle: " + stelleMaxInt;
    AusgabeMaxNum = "Wert: " + WertMaxNum + " Stelle: " + stelleMaxNum;
  }

  function fiboBigInt() {
    var Folge = [];
    Folge[0] = BigInt(0);
    Folge[1] = BigInt(1);
    console.log(Folge[0]);
    console.log(Folge[1]);

    for (var i = 2; i < 2000; i++) {
      Folge[i] = BigInt(Folge[i - 1] + Folge[i - 2]);

      console.log(Folge[i]);
    }
  }

</script>
</body>
</html>